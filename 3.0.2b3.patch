diff -rup DVDStyler-3.0.2b2/ChangeLog DVDStyler/ChangeLog
--- DVDStyler-3.0.2b2/ChangeLog	2016-08-09 22:23:53.000000000 +0100
+++ DVDStyler/ChangeLog	2016-08-14 10:52:58.000000000 +0100
@@ -1,3 +1,8 @@
+Version 3.0.2 beta 3 <2016-08-14>
+---------------------------------
+
+  * updated Manolito's VBR plug-in
+
 Version 3.0.2 beta 2 <2016-08-09>
 ---------------------------------
 
diff -rup DVDStyler-3.0.2b2/configure.ac DVDStyler/configure.ac
--- DVDStyler-3.0.2b2/configure.ac	2016-08-09 22:23:53.000000000 +0100
+++ DVDStyler/configure.ac	2016-08-14 10:52:58.000000000 +0100
@@ -1,7 +1,7 @@
 dnl Process this file with autoconf to produce a configure script.
 
 dnl initialization
-AC_INIT([DVDStyler], [3.0.2b2], [http://www.dvdstyler.org])
+AC_INIT([DVDStyler], [3.0.2b3], [http://www.dvdstyler.org])
 AC_CANONICAL_SYSTEM
 AM_INIT_AUTOMAKE
 AM_MAINTAINER_MODE
@@ -98,7 +98,7 @@ AC_CHECK_HEADER([libavformat/avformat.h]
 #include <stdint.h>])
 
 dnl check for wxSVG
-PKG_CHECK_MODULES(wxSVG, [libwxsvg >= 1.5.7], [LIBS="$LIBS $wxSVG_LIBS"], [AC_MSG_ERROR([*** missing wxSVG library >= 1.5.7 ***])])
+PKG_CHECK_MODULES(wxSVG, [libwxsvg >= 1.5.9], [LIBS="$LIBS $wxSVG_LIBS"], [AC_MSG_ERROR([*** missing wxSVG library >= 1.5.9 ***])])
 AC_MSG_CHECKING([for wxSVG library with ffmpeg/libav support])
 WXSVGLIBAV=no
 AC_TRY_LINK(
diff -rup DVDStyler-3.0.2b2/src/ffmpeg-vbr.bat DVDStyler/src/ffmpeg-vbr.bat
--- DVDStyler-3.0.2b2/src/ffmpeg-vbr.bat	2016-08-05 08:13:03.000000000 +0100
+++ DVDStyler/src/ffmpeg-vbr.bat	2016-08-14 10:52:58.000000000 +0100
@@ -128,7 +128,7 @@ SET ORIGINAL=!ORIGINAL:-minrate:v:0 %bit
 SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %CQM%!
 SET HQ_params=%HQ_params:-bf 2=%
 IF %bitrate% LSS %HQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
-IF %bitrate% GEQ %HQ_threshold% IF %bitrate% LSS %XHQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
+IF "%HQ%"=="NO" IF %bitrate% LSS %XHQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
 GOTO dont_touch
 
 
@@ -146,7 +146,7 @@ SET ORIGINAL=!ORIGINAL:maxrate:v:0 %bitr
 :NoFix
 SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video -dc 10 %CQM%!
 IF %bitrate% LSS %HQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
-IF %bitrate% LSS %XHQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
+IF "%HQ%"=="NO" IF %bitrate% LSS %XHQ_threshold% SET ORIGINAL=!ORIGINAL:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
 
 :dont_touch
 setlocal DisableDelayedExpansion
@@ -159,7 +159,6 @@ ECHO Executing command generated by the
 ECHO ffmpeg.exe %ORIGINAL%
 ECHO. 
 ffmpeg.exe %ORIGINAL%
-CALL :Wait 2
 ECHO. 
 GOTO :EOF
 
@@ -176,7 +175,8 @@ IF %bitrate% LSS %HQ_threshold% SET HQ_p
 IF %bitrate% LSS %XHQ_threshold% SET HQ_params=-b_strategy 2 -brd_scale 2 -profile:v 4
 SET FIRST=!FIRST:-c:v:0 mpeg2video=-c:v:0 mpeg2video %CQM%!
 IF %bitrate% LSS %HQ_threshold% SET FIRST=!FIRST:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES
-IF %bitrate% GEQ %HQ_threshold% IF %bitrate% LSS %XHQ_threshold% SET FIRST=!FIRST:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%! & SET HQ=YES (extreme)
+IF "%HQ%"=="NO" IF %bitrate% LSS %XHQ_threshold% SET FIRST=!FIRST:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%!
+IF %bitrate% LSS %XHQ_threshold% SET HQ=YES (extreme)
 IF NOT DEFINED out_m2v SET FIRST=!FIRST:%out%=-an -passlogfile "%out_path%ffmpeg" -pass 1 -y "NUL.avi"! & GOTO second
 SET FIRST=!FIRST:%out_m2v%=-an -passlogfile "%out_path%ffmpeg" -pass 1 -y "NUL.avi"!
 SET /A pos=0
@@ -197,8 +197,7 @@ FOR /F "tokens=1,2 delims==" %%a IN (ff_
 SET HQ_params=%HQ_params:-bf 2=%
 IF %bitrate% LSS %XHQ_threshold% SET HQ_params=-pre_dia_size 5 -dia_size 5 -qcomp 0.7 -qblur 0 -preme 2 -me_method dia -sc_threshold 0 -sc_factor 4 -bidir_refine 4 -profile:v 4 -mbd rd -mbcmp satd -precmp satd -cmp satd -subcmp satd -skipcmp satd
 SET SECOND=!SECOND:-c:v:0 mpeg2video=-c:v:0 mpeg2video %CQM%!
-IF %bitrate% LSS %HQ_threshold% SET SECOND=!SECOND:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%!
-IF %bitrate% GEQ %HQ_threshold% IF %bitrate% LSS %XHQ_threshold% SET SECOND=!SECOND:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%!
+IF NOT "%HQ%"=="NO" SET SECOND=!SECOND:-c:v:0 mpeg2video=-c:v:0 mpeg2video %HQ_params%!
 IF NOT DEFINED out_m2v SET SECOND=!SECOND:%out%=-passlogfile "%out_path%ffmpeg" -pass 2 %out%! & GOTO twopasslog
 SET SECOND=!SECOND:%out_m2v%=-passlogfile "%out_path%ffmpeg" -pass 2 %out_m2v%!
 
@@ -213,16 +212,9 @@ ECHO Executing first pass command genera
 ECHO ffmpeg.exe %FIRST%
 ECHO. 
 ffmpeg.exe %FIRST%
-CALL :Wait 2
 ECHO. 
 ECHO Executing second pass command generated by the ffmpeg-VBR plugin:
 ECHO ffmpeg.exe %SECOND%
 ECHO. 
 ffmpeg.exe %SECOND%
-CALL :Wait 2
 ECHO. 
-GOTO :EOF
-
-
-:Wait
-ping 0 -n %1 > nul
diff -rup DVDStyler-3.0.2b2/src/ff_vbr.ini DVDStyler/src/ff_vbr.ini
--- DVDStyler-3.0.2b2/src/ff_vbr.ini	2016-08-05 08:13:03.000000000 +0100
+++ DVDStyler/src/ff_vbr.ini	2016-08-14 10:52:58.000000000 +0100
@@ -67,21 +67,4 @@ LowBitrate_threshold=3500
 
 HQ_params=-bf 2 -mbd rd -cmp 2 -subcmp 2
 
-
-
-------------------------------------------------
-Set the AppendLog value to 1 if the ff_vbr log
-file should be appended to the previous log file.
-Otherwise a new log file will be created upon
-      every start of a new project.
-
-If the log file should not be created in the
-same folder as the DVDStyler log file, please
-   enter the complete LogFolder path.
-------------------------------------------------
-
-AppendLog=0
-LogFolder=
-
-
 ----------------------------------------------------------------------------------
diff -rup DVDStyler-3.0.2b2/src/SettingsDlg.cpp DVDStyler/src/SettingsDlg.cpp
--- DVDStyler-3.0.2b2/src/SettingsDlg.cpp	2016-07-27 15:00:23.000000000 +0100
+++ DVDStyler/src/SettingsDlg.cpp	2016-08-12 17:16:57.000000000 +0100
@@ -3,7 +3,7 @@
 // Purpose:     Settings dialog
 // Author:      Alex Thuering
 // Created:     27.03.2004
-// RCS-ID:      $Id: SettingsDlg.cpp,v 1.85 2016/07/27 14:00:23 ntalex Exp $
+// RCS-ID:      $Id: SettingsDlg.cpp,v 1.86 2016/08/12 16:16:57 ntalex Exp $
 // Copyright:   (c) Alex Thuering
 // Licence:     GPL
 /////////////////////////////////////////////////////////////////////////////
@@ -267,7 +267,7 @@ void SettingsDlg::CreatePropPanel(wxSize
 	int mode = modes.Index(s_config.GetEncoderMode(def).BeforeFirst(wxT('_')));
 	AddChoiceProp(encoderSizer, wxT(""), modeLabels[mode >= 0 ? mode + 1 : 0], modeLabels, -2, false, MODE_CHOICE_ID);
 	if (encoderSizer)
-		SetLastControlCustom(GetLastControlIndex() - 1, s_config.GetEncoder(def) != s_config.GetEncoder(true));
+		SetLastControlCustom(GetLastControlIndex() - 1, s_config.GetEncoder(def) == s_config.GetEncoder(true));
 	modeCtrl = (wxChoice*) GetLastControl();
 	AddSpacer(encoderSizer, 4);
 	AddCheckProp(encoderSizer, wxT("HQ"), s_config.GetEncoderMode(def).AfterFirst(wxT('_')) == wxT("hq"));
@@ -362,9 +362,9 @@ bool SettingsDlg::SetValues() {
 	s_config.SetEncoder(encoder);
 	wxString mode = encoder.length() == 0 || GetInt(i) == 0 ? wxT("") : modes[GetInt(i) - 1];
 	if (GetBool(i+1) && mode.length())
-		mode += "_hq";
+		mode += wxT("_hq");
 	else if (GetBool(i+2) && mode.length())
-		mode += "_xhq";
+		mode += wxT("_xhq");
 	s_config.SetEncoderMode(mode);
 	i += 3;
 	s_config.SetIsoCmd(GetString(i++));
diff -rup DVDStyler-3.0.2b2/wxVillaLib/PropDlg.cpp DVDStyler/wxVillaLib/PropDlg.cpp
--- DVDStyler-3.0.2b2/wxVillaLib/PropDlg.cpp	2016-08-04 17:32:15.000000000 +0100
+++ DVDStyler/wxVillaLib/PropDlg.cpp	2016-08-12 17:17:20.000000000 +0100
@@ -3,7 +3,7 @@
 // Purpose:     Properties dialog (base class for all properties dialogs)
 // Author:      Alex Thuering
 // Created:     18.11.2003
-// RCS-ID:      $Id: PropDlg.cpp,v 1.52 2016/08/04 16:32:15 ntalex Exp $
+// RCS-ID:      $Id: PropDlg.cpp,v 1.53 2016/08/12 16:17:20 ntalex Exp $
 // Copyright:   (c) Alex Thuering
 // Licence:     wxWindows licence
 /////////////////////////////////////////////////////////////////////////////
@@ -549,6 +549,10 @@ void wxPropDlg::OnSelectCustomChoice(wxC
 	if (name.BeforeLast(wxT('-')).ToLong(&idx) && name.AfterFirst(wxT('-')).ToLong(&itemIdx)) {
 		wxWindow* ctrl = this->FindWindowByName(wxString::Format(wxT("customCtrlFor%d"), (int) idx));
 		ctrl->Enable(evt.GetSelection() == itemIdx && ((wxWindow*)evt.GetEventObject())->IsEnabled());
+		if (!ctrl->IsEnabled() && ctrl->GetClassInfo()->IsKindOf(wxCLASSINFO(wxChoice))) {
+			((wxChoice*) ctrl)->SetSelection(0);
+			((wxChoice*) ctrl)->SendSelectionChangedEvent(wxEVT_CHOICE);
+		}
 	}
 }
 
